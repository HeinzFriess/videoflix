<app-header></app-header>

<div class="mainpage">
    
    <div class="menu">
        <button (click)="logout()">LogOut</button>
        <button (click)="openDialog()">Upload</button>
    </div>
    <div *ngIf=loading class="load">
        <h3>
            loading.....
        </h3>
        <mat-progress-bar mode="buffer"></mat-progress-bar>
    </div>
    <div *ngIf="!loading && !play" class="previewSection">
        <div *ngFor="let video of videos; index as i" class="previeItem">
            <h3>
                {{ video.title }}
            </h3>
            <h5>
                {{ video.description }}
            </h5>
            <img class="pictureFrame" src="{{ video.video_fileThumbnail }}" alt="">
            <div *ngIf="!play" class="resolution">
                <button (click)="playVideo(video.video_file360p)">360p</button>
                <button (click)="playVideo(video.video_file720p)">720p</button>
                <button (click)="playVideo(video.video_file1080p)">1080p</button>
            </div>
        </div>
    </div>
    <div class="videosection" *ngIf="!loading && play">
        <video width="480" controls>
            <source src="{{ file }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <button (click)="stopVideo()">back</button>
    </div>
</div>
<app-footer></app-footer>